<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Aligning across Projects</title><link rel="stylesheet" type="text/css" href="../../../../css/TAN-guidelines.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"/><link rel="home" href="index.xhtml" title="The Text Alignment Network: Official Guidelines"/><link rel="up" href="ch02.xhtml" title="Chapter 2. Starting off with the TAN Format"/><link rel="prev" href="ch02s03.xhtml" title="Creating TAN Metadata (&lt;head&gt;)"/><link rel="next" href="ch03.xhtml" title="Chapter 3. Intermediate Use of the TAN Format"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Aligning across Projects</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.xhtml">Prev</a> </td><th width="60%" align="center">Chapter 2. Starting off with the TAN Format</th><td width="20%" align="right"> <a accesskey="n" href="ch03.xhtml">Next</a></td></tr></table><hr/></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e538"/>Aligning across Projects</h2></div></div></div><p>We expand our example now and imagine what it might be like to extend the
               alignment outside our project. Let us assume that we have found in the library of
               another project a TAN transcription of a work that looks quite similar to our
               own:</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-model href="http://textalign.net/release/1/dev/schemas/TAN-T.rnc" type="application/relax-ng-compact-syntax"?&gt;
&lt;?xml-model href="http://textalign.net/release/1/dev/schemas/TAN-T.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?&gt;
&lt;TAN-T xmlns="tag:textalign.net,2015:ns" id="tag:hans@beispiel.com,2014:ringel"&gt;
   &lt;head&gt;
      &lt;name&gt;TAN Transkription, Ringelreihen mit Riederfallen&lt;/name&gt;
      &lt;master-location&gt;http://beispiel.com/TAN-T/ringel.xml&lt;/master-location&gt;
      &lt;rights-excluding-sources rights-holder="schmidt"&gt;
         &lt;IRI&gt;http://creativecommons.org/licenses/by/4.0/&lt;/IRI&gt;
         &lt;name&gt;Creative Commons Namensnennung 4.0 International Lizenz.&lt;/name&gt;
         &lt;desc&gt;Dieses Werk ist lizenziert unter einer Creative Commons 
            Namensnennung 4.0 International Lizenz.&lt;/desc&gt;
      &lt;/rights-excluding-sources&gt;
      &lt;source&gt;
         &lt;IRI&gt;http://www.worldcat.org/oclc/4574384&lt;/IRI&gt;
         &lt;name&gt;Franz Magnus Böhme, Deutsches Kinderlied und Kinderspiel: Volksüberlieferungen aus
            allen Landen deutscher Zunge, gesammelt, geordnet und mit Angabe der Quellen. Leipzig,
            1897.&lt;/name&gt;
      &lt;/source&gt;
      &lt;declarations&gt;
         &lt;work&gt;
            &lt;IRI&gt;tag:beispiel.com,2014:texte:holderbusch&lt;/IRI&gt;
            &lt;name&gt;"Die Kinder auf dem Holderbusch"&lt;/name&gt;
         &lt;/work&gt;
         &lt;version&gt;
            &lt;IRI&gt;urn:uuid:31648039-3dbb-49b9-b66e-9bd2cd11630e&lt;/IRI&gt;
            &lt;name&gt;zweite Version&lt;/name&gt;
         &lt;/version&gt;
         &lt;div-type xml:id="Zeile"&gt;
            &lt;IRI&gt;http://dbpedia.org/resource/Gedichtzeile&lt;/IRI&gt;
            &lt;name&gt;Gedichtzeile&lt;/name&gt;
         &lt;/div-type&gt;
         &lt;recommended-tokenization which="general-1"/&gt;
         &lt;filter&gt;
            &lt;normalization&gt;
               &lt;IRI&gt;tag:kalvesmaki@gmail.com,2014:normalization:hyphens-discretionary-off&lt;/IRI&gt;
               &lt;name&gt;Keine Bindestriche&lt;/name&gt;
            &lt;/normalization&gt;
         &lt;/filter&gt;
      &lt;/declarations&gt;
      &lt;agent xml:id="schmidt" roles="Produzent"&gt;
         &lt;IRI&gt;tag:hans@beispiel.com,2014:selbst&lt;/IRI&gt;
         &lt;name xml:lang="eng"&gt;Hans Schmidt&lt;/name&gt;
      &lt;/agent&gt;
      &lt;role xml:id="Produzent"&gt;
         &lt;IRI&gt;http://schema.org/producer&lt;/IRI&gt;
         &lt;name xml:lang="eng"&gt;Produzent&lt;/name&gt;
      &lt;/role&gt;
      &lt;change when="2014-08-13" who="schmidt"&gt;Anfang&lt;/change&gt;
      &lt;comment when="2014-08-13" who="schmidt"&gt;unten auf der Z. 438, recht&lt;/comment&gt;
   &lt;/head&gt;
   &lt;body xml:lang="deu" in-progress="false"&gt;
      &lt;div type="Zeile" n="a"&gt;Ringel, Ringel, Reihe!&lt;/div&gt;
      &lt;div type="Zeile" n="b"&gt;Sind der Kinder dreie,&lt;/div&gt;
      &lt;div type="Zeile" n="c"&gt;Sitzen auf dem Holderbuch,&lt;/div&gt;
      &lt;div type="Zeile" n="e"&gt;Schreien alle: husch, husch, husch!&lt;/div&gt;
   &lt;/body&gt;
&lt;/TAN-T&gt;</pre><p>It seems clear to us that this 19th-century German version is quite similar to our
               two English versions. We have some alignment options open to us. Two more sets of
               word-for-word alignments would be interesting, but remember, just because we find a
               text that nicely aligns with others does not mean that we <span class="italic">must</span> align them. In this case, we choose not to worry about word-for
               word alignments, and we focus here only on the TAN-A-div alignment, so that, for
               example, we can later generate an HTML report that will allow us to more conducively
               read the three versions in parallel and study their relationships.</p><p>To that end, we first observe some differences between this transcription and our
               other two. First, the value of <code class="code">&lt;work&gt;</code> is not the one we have given
               our two versions. Second, the <code class="code">&lt;div-type&gt;</code> is defined as
                  <code class="code">http://dbpedia.org/resource/Gedichtzeile</code>. Third, the lines have been
               lettered instead of numbered. And last, the editor seems to have made a typographical
               error, making the last line <code class="code">n="e"</code> instead of <code class="code">n="d"</code>). These
               four differences typify some of the inconsistencies that are found as people work
               independently on similar texts.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="img/note.png"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>There are a few other differences in this third transcription that do not
                     affect our alignment. <code class="code">&lt;version&gt;</code> is used to distinguish
                     different version of the same work found on the same text-bearing object.
                     Notice that the <code class="code">&lt;IRI&gt;</code> value is a uuid, in this case because the
                     editor was not prepared to deploy a formal IRI naming scheme (perhaps using a
                     tag URN) that would be satisfactory for work-versions.</p></td></tr></table></div><p>These are points we can easily reconcile in our TAN-A-div file, which we now
               expand to include the German version. We make the following adjustments (in
               boldface):</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-model href="http://textalign.net/release/1/dev/schemas/TAN-A-div.rnc" type="application/relax-ng-compact-syntax"?&gt;
&lt;?xml-model href="http://textalign.net/release/1/dev/schemas/TAN-A-div.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?&gt;
&lt;TAN-A-div xmlns="tag:textalign.net,2015:ns" id="tag:parkj@textalign.net,2015:ring-alignment"&gt;
    &lt;head&gt;
       &lt;name&gt;div-based alignment of multiple versions of Ring o Roses&lt;/name&gt;
       &lt;master-location&gt;ringoroses.div.1.xml&lt;/master-location&gt;
       &lt;rights-excluding-sources rights-holder="park"&gt;
          &lt;IRI&gt;http://creativecommons.org/licenses/by/4.0/deed.en_US&lt;/IRI&gt;
          &lt;name&gt;Creative Commons Attribution 4.0 International License&lt;/name&gt;
          &lt;desc&gt;This data file is licensed under a Creative Commons Attribution 4.0 International
             License. The license is granted independent of rights and licenses associated with the
             source. &lt;/desc&gt;
       &lt;/rights-excluding-sources&gt;
       &lt;source xml:id="eng-uk"&gt;
          &lt;IRI&gt;tag:parkj@textalign.net,2015:ring01&lt;/IRI&gt;
          &lt;name&gt;Transcription of ring around the roses in English (UK)&lt;/name&gt;
          &lt;location when-accessed="2015-03-10"&gt;../TAN-T/ring-o-roses.eng.1881.xml&lt;/location&gt;
       &lt;/source&gt;
       &lt;source xml:id="eng-us"&gt;
          &lt;IRI&gt;tag:parkj@textalign.net,2015:ring02&lt;/IRI&gt;
          &lt;name&gt;Transcription of ring around the roses in English (US)&lt;/name&gt;
          &lt;location when-accessed="2014-08-13"&gt;../TAN-T/ring-o-roses.eng.1987.xml&lt;/location&gt;
       &lt;/source&gt;
       <span class="bold"><strong>&lt;source xml:id="ger"&gt;
          &lt;IRI&gt;tag:beispiel.com,2014:ringel&lt;/IRI&gt;
          &lt;name&gt;Transcription of an ancestor of Ring around the roses in German&lt;/name&gt;
          &lt;location when-accessed="2014-08-22"&gt;http://beispiel.com/TAN-T/ringel.xml&lt;/location&gt;
          &lt;location when-accessed="2014-08-22"&gt;../TAN-T/ring-o-roses.deu.1897.xml&lt;/location&gt;
       &lt;/source&gt;</strong></span>
       &lt;declarations/&gt;
       &lt;agent xml:id="park" roles="creator"&gt;
          &lt;IRI&gt;tag:parkj@textalign.net,2015:self&lt;/IRI&gt;
          &lt;name xml:lang="eng"&gt;Jenny Park&lt;/name&gt;
       &lt;/agent&gt;
       &lt;role xml:id="creator"&gt;
          &lt;IRI&gt;http://schema.org/creator&lt;/IRI&gt;
          &lt;name xml:lang="eng"&gt;creator&lt;/name&gt;
       &lt;/role&gt;
       &lt;change when="2014-08-14" who="park"&gt;Started file&lt;/change&gt;
       <span class="bold"><strong>&lt;change when="2014-08-22" who="park"&gt;Added German version.&lt;/change&gt;</strong></span>
    &lt;/head&gt;
    &lt;body&gt;
       <span class="bold"><strong>&lt;equate-works sources="eng-uk ger"/&gt;
       &lt;equate-div-types&gt;
          &lt;div-type-ref src="ger" div-type-ref="Zeile"/&gt;
          &lt;div-type-ref src="eng-uk" div-type-ref="line"/&gt;
       &lt;/equate-div-types&gt;
       &lt;realign&gt;
          &lt;anchor-div-ref source="ger" ref="Zeile e"/&gt;
          &lt;div-ref source="eng-us" ref="l 4"/&gt;
       &lt;/realign&gt;</strong></span>
    &lt;/body&gt;
&lt;/TAN-A-div&gt;</pre><p>The first major change is the insertion of a new <code class="code">&lt;source&gt;</code>,
               identifying the name and location of the third example. Note that two locations have
               been provided, one for the original location and another for the copy saved locally
               into our project folder. Validation will occur at the first document available, so if
               we wanted to work primarily off our local copy, we would have put it first. By
               placing it second, we indicate that we want to have our local copy as a backup, in
               case the first is not available.</p><p>The second major insertion is a new <code class="code">&lt;change&gt;</code>, documenting when we
               made the alterations. The value of <code class="code">@when</code> effectively alters the version
               number of our TAN-A-div file.</p><p>The third major change populates the <code class="code">&lt;body&gt;</code> with elements that
               calibrate the new version to the other two. <code class="code">&lt;equate-works&gt;</code> says that,
               for the sake of this alignment, the works defined in the UK version and the German
               version to be considered equivalent. We did not mention the US version because we do
               not need to. As was mentioned above, anyone using a TAN-A-div should assume that all
               alignments are transitive unless otherwise specified. That includes specifications
               like this. If A and B are already defined to be the same work, and we specify that A
               and C are also the same work, then it must be inferred that B and C are as well.
               Note, we are not committing ourselves to the proposition that they are in reality the
               same work. We are making this statement only provisionally, to facilitate the
               alignment.</p><p><code class="code">&lt;equate-div-types&gt;</code> declares that what the German version calls
               Zeile is, for the sake of this alignment, equivalent to what the UK version calls
               line. Transitivity means that Zeile is inferred to be equivalent to what the US
               version calls <code class="code">l</code>.</p><p>A <code class="code">&lt;realign&gt;</code> takes care of the apparent typographical error, this
               time using the US version as the main way to correlate the division references. Any
                  <code class="code">&lt;div-ref&gt;</code> in a <code class="code">&lt;realign&gt;</code> is wrested from automatic
               alignment. If there is an <code class="code">&lt;anchor-div-ref&gt;</code> then it will be realigned
               with that reference and, by the law of transitivity, anything that aligns to it, in
               this case the UK version.</p><p>We do not need to reconcile the <code class="code">@n</code> values of <code class="code">a</code>,
                  <code class="code">b</code>, and <code class="code">c</code> in the German version. The TAN format allows
               four numeration systems other than Arabic numerals: Roman numerals (uppercase or
               lowercase), alphabetic numerals (a, b, c, ..., z, aa, bb, ....), and digit-alphabet
               combinations (e.g., 1a, 1e, 4g) or alphabet-digit combinations (e.g., a4, a5, b5).
               All these will be treated as their numerical equivalent.</p><p>With these changes, the new version is completely synchronized with the other two.
               Our work may have been simplified if we had just modified the German version ourself.
               But then we would not have been able to connect our work to other TAN files that may
               be depending upon this version. Perhaps we should have gotten in touch with Hans
               Schmidt, the producer of the German version, and suggest that he modify the version
               to make it align better. In the case of <code class="code">&lt;div-type&gt;</code>, he need merely
               add another line:
                  <code class="code">&lt;IRI&gt;http://dbpedia.org/resource/Line_(poetry)&lt;/IRI&gt;</code>. This
               line, in addition to the preexisting <code class="code">&lt;IRI&gt;</code>, specifies that the two
               IRIs are equivalent. Perhaps he has reasons for labeling the lines with letters, and
               perhaps he is reluctant to explicitly identify this poem with <span class="italic">Ring around the Rosie</span>. That is within his rights. (Remember, TAN is
               meant to provide a framework within which opinions can be registered, even against
               popular opinion.) But the conversation might lead to our pointing out that
                  <code class="code">n="e"</code> should probably be <code class="code">n="d"</code> and that there is an
               apparent discrepancy in the last line (the original, printed book has the poem twice
               on page 438, one with "Holderbuch," the other, "Holderbusch"). In correcting the
               original transcription and providing a record of the change through
                  <code class="code">&lt;change&gt;</code>, he tacitly notifies anyone else using the file that
               corrections have been made.</p><p>There is much more to TAN, of course. The rest of these guidelines provide full
               documentation. In addition, other examples in the TAN repository provide ideas on how
               to develop your other alignments, perhaps more complex. The data files in that
               repository are open for modification, copying, reuse, and so forth. Just remember, if
               you do that, be certain to change the tag URN of each TAN file's <code class="code">@id</code> so
               that it points to an email address or domain name that you own(ed).</p></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.xhtml">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.xhtml">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03.xhtml">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Creating TAN Metadata (<code class="code">&lt;head&gt;</code>) </td><td width="20%" align="center"><a accesskey="h" href="index.xhtml">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Intermediate Use of the TAN Format</td></tr></table></div></body></html>