<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Division-Based Alignments (&lt;TAN-A-div&gt;)</title><link rel="stylesheet" type="text/css" href="../../../../css/TAN-guidelines.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"/><link rel="home" href="index.xhtml" title="The Text Alignment Network: Official Guidelines"/><link rel="up" href="ch07.xhtml" title="Chapter 7. Class 2 TAN files, Annotations of Texts"/><link rel="prev" href="ch07s02.xhtml" title="Alignments: Principles and Assumptions"/><link rel="next" href="ch07s04.xhtml" title="Token-Based Alignments (&lt;TAN-A-tok&gt;)"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Division-Based Alignments (<code class="code">&lt;TAN-A-div&gt;</code>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s02.xhtml">Prev</a> </td><th width="60%" align="center">Chapter 7. Class 2 TAN files, Annotations of Texts</th><td width="20%" align="right"> <a accesskey="n" href="ch07s04.xhtml">Next</a></td></tr></table><hr/></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tan-a-div"/>Division-Based Alignments (<code class="code">&lt;TAN-A-div&gt;</code>)</h2></div></div></div><p>The TAN format for macroscopic, division-based alignment, TAN-A-div, is dedicated
               to aligning any number of versions of any number of works on the basis of the
                  <code class="code">&lt;div&gt;</code>s in the sources. A TAN-A-div file is technically not an
               alignment per se. Rather, it is an alignment constructor. That is, a TAN-A-div file
               specifies parameters to be followed to generate a desired alignment. It is up to a
               processor to use that TAN-A-div file to create a byproduct (HTML, pdf, word
               processing document, etc.) that will be recognizable to most people as an
               alignment.</p><p>Transcribers, despite their best intentions, may fail to produce transcriptions of
               the same work that align. Perhaps the works or div types are not defined identically,
               or perhaps one version follows a reference system at odds with another. TAN-A-div has
               been designed to allow you to reconcile inconsistencies, and to explicitly declare
               alignments that a computer might not be able to detect automatically. </p><p>Every source invoked by a TAN-A-div will have alignments inferred wherever
               possible, and when not overridden explicitly. If the sources do not align exactly, or
               as one wishes, the format may be used to adjust and refine the alignment of the
               sources, even down to the word level. </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d5e3854"/>Rootmost Element and Header</h3></div></div></div><p>The rootmost element of a TAN division-based alignment file is
                     <code class="code">&lt;TAN-A-div&gt;</code>.</p><p>Under <code class="code">&lt;head&gt;</code>, some special rules apply to TAN-A-div
                  types.</p><p>One or more <code class="code">&lt;source&gt;</code>s must be declared (<a class="xref" href="ch05s03.xhtml#source_and_see-also" title="Sources and related files">the section called “Sources and related files”</a>). It may seem strange to have an alignment file
                  with only a single source, but this is allowed, to facilitate self-alignment
                  (i.e., to indicate places where a source reuses itself). Every
                     <code class="code">&lt;source&gt;</code> must take an <code class="code">@xml:id</code> for references to
                  the source.</p><p><code class="code">&lt;declarations&gt;</code> takes zero or more of the four declarations
                  common to class 2 files: <code class="code">&lt;tokenization&gt;</code>,
                     <code class="code">&lt;suppress-div-types&gt;</code>, <code class="code">&lt;rename-div-types&gt;</code>,
                     <code class="code">&lt;rename-div-ns&gt;</code>. See <a class="xref" href="ch07.xhtml#class_2_common" title="Common Elements">the section called “Common Elements”</a>.</p><p><code class="code">&lt;rename-div-ns&gt;</code> can be used on occasion for simple points of
                  reconciliation, and therefore alignment. For example, if two versions of the same
                  work assign the same book two different <code class="code">@n</code> values, e.g., "john" and
                  "jn" for the New Testament gospel, then this element can be used to reconcile
                  those differences. But it should not be used to reconcile more complex
                  differences. And although it can be used to reconcile alternative numbering
                  systems, that is a convenience, not a necessity of the alignment. Roman and
                  alphabetic numbering systems are to be detected by preprocessors and to be treated
                  identically to their Arabic numeral counterparts.</p><p>The assumptions of an aligner are opaque in the TAN-A-div format. A TAN-A-div
                  file says, in essence, "Please align the following sources," but it does not say
                  why the alignment is requested, and it does not make any statements about the
                  relationship that holds between the various sources. Indeed, a TAN-A-div file
                  could be used to align passages that have no apparent relationship (to what end
                  might be unclear). If it is important to convey assumptions about how the text has
                  been reused, the TAN-A-tok format should be used.</p><div class="example"><a id="d5e3876"/><p class="title"><strong>Example 7.6. TAN-A-div <code class="code">&lt;head&gt;</code></strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;head&gt;
      &lt;name&gt;div-based alignment of multiple versions of Ring o Roses&lt;/name&gt;
      &lt;rights-excluding-sources rights-holder="park"&gt;
         &lt;IRI&gt;http://creativecommons.org/licenses/by/4.0/deed.en_US&lt;/IRI&gt;
         &lt;name&gt;Creative Commons Attribution 4.0 International License&lt;/name&gt;
         &lt;desc&gt;This data file is licensed under a Creative Commons Attribution 4.0 International
             License. The license is granted independent of rights and licenses associated with
             the source. &lt;/desc&gt;
      &lt;/rights-excluding-sources&gt;
      &lt;source xml:id="eng-uk"&gt;
         &lt;IRI&gt;tag:parkj@textalign.net,2015:ring01&lt;/IRI&gt;
         &lt;name&gt;Transcription of ring around the roses in English (UK)&lt;/name&gt;
         &lt;location when-accessed="2015-03-10"&gt;../TAN-T/ring-o-roses.eng.1881.xml&lt;/location&gt;
      &lt;/source&gt;
      &lt;source xml:id="eng-us"&gt;
         &lt;IRI&gt;tag:parkj@textalign.net,2015:ring02&lt;/IRI&gt;
         &lt;name&gt;Transcription of ring around the roses in English (US)&lt;/name&gt;
         &lt;location when-accessed="2014-08-13"&gt;../TAN-T/ring-o-roses.eng.1987.xml&lt;/location&gt;
      &lt;/source&gt;
      &lt;source xml:id="ger"&gt;
         &lt;IRI&gt;tag:hans@beispiel.com,2014:ringel&lt;/IRI&gt;
         &lt;name&gt;Transcription of an ancestor of Ring around the roses in German&lt;/name&gt;
         &lt;location when-accessed="2014-08-13"&gt;http://beispiel.com/TAN-T/ringel.xml&lt;/location&gt;
         &lt;location when-accessed="2014-08-13"&gt;../TAN-T/ring-o-roses.deu.1897.xml&lt;/location&gt;
      &lt;/source&gt;
      &lt;source xml:id="eng-1790"&gt;
         &lt;IRI&gt;tag:parkj@textalign.net,2015:ring04&lt;/IRI&gt;
         &lt;name&gt;TAN transcription of 1790 version of Ring around the Rosie reported by Newell in
             1883&lt;/name&gt;
         &lt;location when-accessed="2014-10-28"&gt;../TAN-T/ring-o-roses.eng.1957.xml&lt;/location&gt;
      &lt;/source&gt;
      &lt;declarations/&gt;
      &lt;agent xml:id="park" roles="creator"&gt;
         &lt;IRI&gt;tag:parkj@textalign.net,2015:self&lt;/IRI&gt;
         &lt;name xml:lang="eng"&gt;Jenny Park&lt;/name&gt;
      &lt;/agent&gt;
      &lt;role xml:id="creator"&gt;
         &lt;IRI&gt;http://schema.org/creator&lt;/IRI&gt;
         &lt;name xml:lang="eng"&gt;creator&lt;/name&gt;
      &lt;/role&gt;
      &lt;change when="2014-08-14" who="park"&gt;Started file&lt;/change&gt;
   &lt;/head&gt;
      ...........   </pre><p>
                  </p></div></div><br class="example-break"/><div class="example"><a id="d5e3881"/><p class="title"><strong>Example 7.7. TAN-A-div <code class="code">&lt;declarations&gt;</code></strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;declarations&gt;
      &lt;suppress-div-types src="Pss-heb" div-type-ref="stanza"/&gt;
      &lt;tokenization src="Pss-heb Pss-grc" which="general-words-only-1"/&gt;
      &lt;rename-div-types src="Pss-grc"&gt;
         &lt;rename old="ch" new="ps"/&gt;
      &lt;/rename-div-types&gt;
   &lt;/declarations&gt;
      ...........   </pre><p>
                  </p></div></div><br class="example-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d5e3886"/>Data (<code class="code">&lt;body&gt;</code>)</h3></div></div></div><p>
                  </p><div class="table"><a id="d5e3890"/><p class="title"><strong>Table 7.4. Synopsis of TAN-A-div <code class="code">&lt;body&gt;</code></strong></p><div class="table-contents"><table summary="Synopsis of TAN-A-div &lt;body&gt;" border="1"><colgroup><col class="c1"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="newCol7"/><col class="newCol6"/><col class="c6"/></colgroup><thead><tr><th>name</th><th>req?</th><th>qty</th><th>parent</th><th>attributes</th><th>children</th><th>purpose</th></tr></thead><tbody><tr><td><code class="code">&lt;body&gt;</code></td><td>yes</td><td>one</td><td><code class="code">&lt;TAN-A-div&gt;</code></td><td><a class="xref" href="ch05s04.xhtml#in_progress" title="@in-progress">the section called “@in-progress”</a>?, <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>?</td><td><code class="code">&lt;equate-works&gt;</code>*,
                                    <code class="code">&lt;equate-div-types&gt;</code>*,
                                    <code class="code">&lt;split-leaf-div-at&gt;</code>*,
                                 <code class="code">&lt;realign&gt;</code>*, <code class="code">&lt;align&gt;</code>*</td><td>contains data</td></tr></tbody></table></div></div><p><br class="table-break"/>
               </p><p>The TAN-A-div <code class="code">&lt;body&gt;</code> may take <a class="xref" href="ch05s04.xhtml#in_progress" title="@in-progress">the section called “@in-progress”</a>. It
                  may take an edit stamp (see <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>). It may take various
                  elements, described below. But all these are optional. </p><p>A TAN-A-div may have an empty <code class="code">&lt;body&gt;</code> because the format by
                  default requests a greedy alignment. That is, it states, in effect, "Take the list
                  of sources in the header. First group (align) them by work, then by
                     <code class="code">&lt;div&gt;</code>s according to flattened references." </p><p>A processor will create groups of works by looking for matches in the sources'
                     <code class="code">declarations/work/IRI</code> values. To those matches will be added any
                  sources you claim should be treated as having equivalent works. Then within each
                  work group, the processor will standardize the <code class="code">@type</code> and
                     <code class="code">@n</code> values that make up each leaf <code class="code">&lt;div&gt;</code>'s
                  reference, first by using the sources' <code class="code">declarations/div-type/IRI</code>
                  values to create groups of division types and second by normalizing any
                  nonstandard numeration systems. The resultant normalization is then used to create
                  groups of leaf <code class="code">&lt;div&gt;</code>s that share the same flattened reference
                  numbers. (See <a class="xref" href="ch06s02.xhtml#leaf_div_uniqueness_rule" title="Flattened References, and the Leaf Div Uniqueness Rule">Flattened References, and the Leaf Div Uniqueness Rule</a>.)</p><p>If sources to be aligned share <code class="code">&lt;IRI&gt;</code> values for
                     <code class="code">&lt;work&gt;</code>s and <code class="code">&lt;div-type&gt;</code>s, and use a common
                  labeling system (<code class="code">@n</code>), then nothing needs to be declared in a
                  TAN-A-div <code class="code">&lt;body&gt;</code>. A TAN-conformant processor will construct an
                  alignment wherever it can. <code class="code">&lt;body&gt;</code> is used exclusively to reconcile
                  unwanted differences between source TAN-T(EI) files, to realign versions of the
                  same work, and to declare new alignments across works (quotations).</p><p>
                  </p><div class="table"><a id="d5e3951"/><p class="title"><strong>Table 7.5. Synopsis of <code class="code">&lt;equate-works&gt;</code>,
                           <code class="code">&lt;equate-div-types&gt;</code>, <code class="code">&lt;split-leaf-div-at&gt;</code>,
                           <code class="code">&lt;realign&gt;</code>, <code class="code">&lt;align&gt;</code>,
                           <code class="code">&lt;div-type-ref&gt;</code>, <code class="code">&lt;anchor-div-ref&gt;</code>,
                           <code class="code">&lt;div-ref&gt;</code></strong></p><div class="table-contents"><table summary="Synopsis of &lt;equate-works&gt;,&#xA;                           &lt;equate-div-types&gt;, &lt;split-leaf-div-at&gt;,&#xA;                           &lt;realign&gt;, &lt;align&gt;,&#xA;                           &lt;div-type-ref&gt;, &lt;anchor-div-ref&gt;,&#xA;                           &lt;div-ref&gt;" border="1"><colgroup><col class="c1"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="newCol7"/><col class="newCol6"/><col class="c6"/></colgroup><thead><tr><th>name</th><th>req?</th><th>qty</th><th>parent</th><th>attributes</th><th>children</th><th>purpose</th></tr></thead><tbody><tr><td><code class="code">&lt;equate-works&gt;</code></td><td>no</td><td>one or more</td><td><code class="code">&lt;body&gt;</code></td><td><code class="code">@src</code>, <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>?</td><td>----</td><td>declares an ad hoc equivalence between sources whose
                                    <code class="code">&lt;work&gt;</code>s are not defined as identical</td></tr><tr><td><code class="code">&lt;equate-div-types&gt;</code></td><td>no</td><td>one or more</td><td><code class="code">&lt;body&gt;</code></td><td><a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>?</td><td><code class="code">&lt;div-type-ref&gt;</code>+</td><td>declares an ad hoc equivalence between div types that are in
                                 different sources and that are not defined as identical by those
                                 sources' <code class="code">&lt;div-type&gt;</code>s.</td></tr><tr><td><code class="code">&lt;split-leaf-div-at&gt;</code></td><td>no</td><td>one</td><td><code class="code">&lt;body&gt;</code></td><td><a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>?</td><td><a class="xref" href="ch07.xhtml#tok_pattern" title="&lt;tok&gt;">the section called “<code class="code">&lt;tok&gt;</code>”</a>+</td><td>collects ad hoc splits in leaf <code class="code">&lt;div&gt;</code>s</td></tr><tr><td><code class="code">&lt;realign&gt;</code></td><td>no</td><td>one or more</td><td><code class="code">&lt;body&gt;</code></td><td><a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>?</td><td><code class="code">&lt;anchor-div-ref&gt;</code>?,
                                 <code class="code">&lt;div-ref&gt;</code>+</td><td>eliminates or realigns the default alignment of divs in a
                                 source to other sources that share the same work</td></tr><tr><td><code class="code">&lt;align&gt;</code></td><td>no</td><td>one or more</td><td><code class="code">&lt;body&gt;</code></td><td><code class="code">@xml:id?</code>, <code class="code">@strength</code>?,
                                    <code class="code">@exclusive</code>?, <code class="code">@distribute</code>, <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>?</td><td><code class="code">&lt;div-ref&gt;</code>+</td><td>declares an ad hoc alignment of specific divs</td></tr><tr><td><code class="code">&lt;div-type-ref&gt;</code></td><td>yes</td><td>two or more</td><td><code class="code">&lt;equate-div-types&gt;</code></td><td><code class="code">@src</code>, <code class="code">@div-type-ref</code><a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a></td><td>----</td><td>references a div type</td></tr><tr><td><code class="code">&lt;anchor-div-ref&gt;</code></td><td>yes</td><td>one</td><td><code class="code">&lt;realign&gt;</code></td><td><code class="code">@src</code>, <code class="code">@ref</code>, <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>, <code class="code">@seg</code>?</td><td>----</td><td>references a div to which other <code class="code">&lt;div-ref&gt;</code>s
                                 should be realigned</td></tr><tr><td><code class="code">&lt;div-ref&gt;</code></td><td>yes</td><td>two or more</td><td><code class="code">&lt;realign&gt;</code>, <code class="code">&lt;align&gt;</code></td><td><code class="code">@src</code>, <code class="code">@ref</code>, <code class="code">@strength</code>?,
                                    <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a>, <code class="code">@seg</code>?</td><td>----</td><td>references a div</td></tr></tbody></table></div></div><p><br class="table-break"/>
               </p><p>A TAN-A-div alignment permits an aligner to reconcile otherwise discordant
                  sources in a five-step process. Each step is optional and sequence-specific. That
                  is, each statement assumes declarations made in previous siblings have already
                  been taken into account. Each of these steps allow an optional <a class="xref" href="ch05.xhtml#edit_stamp" title="Edit Stamp">the section called “Edit Stamp”</a> (therefore not mentioned in the description
                  below).</p><p>Because the description of the theory behind these actions is abstract and
                  difficult to understand, each of the steps is first provided examples, to make the
                  theory more intelligible.</p><p><span class="italic">Step 1: correlate works</span></p><p>
                  </p><div class="example"><a id="d5e4097"/><p class="title"><strong>Example 7.8. <code class="code">&lt;equate-works&gt;</code>: similar and related works defined
                        differently</strong></p><div class="example-contents"><p>
                        </p><pre class="programlisting">      ...........
   &lt;body&gt;
      &lt;equate-works src="lxx kjv nt"/&gt;
   &lt;/body&gt;
      ...........   </pre><p>
                     </p><div class="caption"><p>The Bible's complex history has produced many different concepts and
                           definitions of how that work should be defined. Take for example the
                           Greek Septuagint (<code class="code">lxx</code>), the New Testament (<code class="code">nt</code>),
                           and the King James Bible (<code class="code">kjv</code>), each one justifiably defined
                           as a distinct work. The <code class="code">nt</code> is contained wholly by the
                              <code class="code">kjv</code>, and has no overlap with the <code class="code">lxx</code>
                           (ignoring for now <code class="code">nt</code> quotations of the <code class="code">lxx</code>).
                           The <code class="code">kjv</code> overlaps with only the majority of the
                              <code class="code">lxx</code> (books or parts of books commonly transmitted in the
                           Septuagint translation never made it into the King James Bible). Since
                           these three sources can be thought of as separate works, the creators of
                           the TAN-T(EI) filse have each assigned a distinct <code class="code">&lt;IRI&gt;</code>
                           value to <code class="code">&lt;work&gt;</code>. But for the purposes of this alignment,
                           all three can be productively treated as a common work. The line above,
                              <code class="code">&lt;equate-works&gt;</code>, illustrates establishes an ad hoc
                           equivalence among all three works. Any processor will make alignments
                           wherever it can.</p></div></div></div><p><br class="example-break"/>
               </p><div class="example"><a id="d5e4117"/><p class="title"><strong>Example 7.9. <code class="code">&lt;equate-works&gt;</code>: different works</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;body&gt;
      &lt;equate-works src="hamlet lear othello"/&gt;
   &lt;/body&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example illustrates an ad hoc alignment of Shakespeare's plays
                           <span class="italic">Othello</span>, <span class="italic">Hamlet</span>, and <span class="italic">King Lear</span>. Any
                        processor of this file will attempt to align the parts of the three plays
                        that share the same reference number. This may be useful for an aligner who
                        wishes to study the distribution of line length in the course of
                        Shakespeare's plays by act, scene, and so forth. </p></div></div></div><br class="example-break"/><p>This first step allows you to declare an ad hoc equivalence between sources
                  that do not already share a work <code class="code">&lt;IRI&gt;</code> value. Each equivalence is
                  made through an <code class="code">&lt;equate-works&gt;</code>, which takes a mandatory
                     <code class="code">@src</code> that refers to one or more <code class="code">&lt;source&gt;</code>s (by
                  their ID). This element is otherwise empty.</p><p>As mentioned above, all TAN-A-div files assume greedy, transitive alignment.
                  Therefore, to equate work X of source A with work Y of source B is to align all
                  sources for works X and Y.</p><p>This declaration does not imply that the two works are, in reality, one and the
                  same. It merely states that, for the purposes of this alignment, they should be
                  treated as equivalent.</p><p><span class="italic">Step 2: correlate division types</span></p><div class="example"><a id="d5e4136"/><p class="title"><strong>Example 7.10. <code class="code">&lt;equate-div-types&gt;</code>: common divisions defined
                     differently</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;equate-div-types&gt;
      &lt;div-type-ref src="blue" div-type-ref="p"/&gt;
      &lt;div-type-ref src="red" div-type-ref="p"/&gt;
   &lt;/equate-div-types&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example assumes two sources (<code class="code">&lt;blue&gt;</code> and
                           <code class="code">&lt;red&gt;</code>) that both use <code class="code">p</code> as a division type,
                        but have not used the same IRI to define what <code class="code">p</code> means. Whether
                        the discrepancy is based upon a principled disagreement, an accident, or a
                        typographical error, the above says that the two types of divisions are to
                        be treated as equivalent.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4147"/><p class="title"><strong>Example 7.11. <code class="code">&lt;equate-div-types&gt;</code>: uncommon divisions defined
                     differently</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;equate-div-types&gt;
      &lt;div-type-ref src="summa-eng" div-type-ref="contr"/&gt;
      &lt;div-type-ref src="summa-lat" div-type-ref="sedcontra"/&gt;
   &lt;/equate-div-types&gt;
   &lt;equate-div-types&gt;
      &lt;div-type-ref src="summa-eng" div-type-ref="resp"/&gt;
      &lt;div-type-ref src="summa-lat" div-type-ref="respondeo"/&gt;
   &lt;/equate-div-types&gt;
   &lt;equate-div-types&gt;
      &lt;div-type-ref src="summa-eng" div-type-ref="reply"/&gt;
      &lt;div-type-ref src="summa-lat" div-type-ref="adpraeterea"/&gt;
   &lt;/equate-div-types&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>Many texts are traditionally segmented into divisions that are given
                        names distinct to a particular discipline or culture. For example, the
                           <span class="italic">Summa theologica</span> by Thomas Aquinas
                        contains articles that allow five kinds of subdivision: question, objection,
                        "on the contrary" (<span class="italic">sed contra</span>), "I
                        respond that" (<span class="italic">respondeo</span>), and reply to
                        objection. This example assumes an alignment of two independently
                        transcribed versions of the <span class="emphasis"><em>Summa theologica</em></span>. Both
                        transcribers found IRIs suitable for the first two subdivisions
                           (<code class="code">http://dbpedia.org/resource/Question</code> and
                           <code class="code">http://dbpedia.org/resource/Objection_(argument)</code>) but they
                        each had to mint their own IRI for the last three, and they do not match.
                        This example says they should be treated as equivalent.</p></div></div></div><br class="example-break"/><p>This second step does for div types what the first step did for works. Across
                  all sources, every <code class="code">&lt;div-type&gt;</code> that shares an <code class="code">&lt;IRI&gt;</code>
                  value will be treated as equivalent. But if you wish to augment that automated
                  alignment you may declare an ad hoc equivalence between
                  <code class="code">&lt;div-type&gt;</code>s that do not have any common <code class="code">&lt;IRI&gt;</code>
                  values. Each equivalence is made through an <code class="code">&lt;equate-div-types&gt;</code>,
                  which takes one or more <code class="code">&lt;div-type-ref&gt;</code>s, each of which takes a
                  mandatory <code class="code">@src</code> and <code class="code">@div-type-ref</code>, to point to one or
                  more sources and division types. You must use either the <code class="code">@xml:id</code>
                  assigned by the source to that div type or its renamed value, if there is a
                  corresponding <code class="code">&lt;rename-div-types&gt;</code> under
                     <code class="code">&lt;declarations&gt;</code> (see <a class="xref" href="ch07.xhtml#class_2_metadata" title="Class 2 Metadata (&lt;head&gt;)">the section called “Class 2 Metadata (<code class="code">&lt;head&gt;</code>)”</a>).</p><p>As with <code class="code">&lt;equate-works&gt;</code>, <code class="code">&lt;equate-div-types&gt;</code>
                  assume a greedy, transitive alignment. If div type X of source A is stated to be
                  equivalent to type Y of source B, then all div types X and Y in all other sources
                  are to treated as equivalent. This declaration does not imply that the two types
                  of division are, in reality, one and the same. It merely states that, for the
                  purposes of this alignment, they should be treated as equivalent.</p><p><span class="italic">Step 3: refine segmentation</span></p><div class="example"><a id="d5e4178"/><p class="title"><strong>Example 7.12. <code class="code">&lt;split-leaf-div-at&gt;</code>: common use</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;split-leaf-div-at&gt;
      &lt;tok src="eng-1790" ref="line 1" ord="1 | 2" val="a"/&gt;
   &lt;/split-leaf-div-at&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example assumes line 1 reads "Ring a ring a Rosie," and that the
                        text has been tokenized based on spaces. This <code class="code">&lt;tok&gt;</code>
                        introduces two splits in the leaf <code class="code">&lt;div&gt;</code>, starting with the
                        first and second instances of "a" (the second and fourth word-tokens). The
                        overall effect is to create three segments: "Ring" "a ring" "a Rosie". Later
                        in the alignment file file, any reference to <code class="code">line 1</code> will refer
                        to all three segments. <code class="code">@seg</code> would be used to point to one or
                        more specific segments (see below).</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4189"/><p class="title"><strong>Example 7.13. <code class="code">&lt;split-leaf-div-at&gt;</code>: advanced use</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;split-leaf-div-at&gt;
      &lt;tok src="eng deu heb" ref="bk.Ex.ch.1.v.2 | bk.Ex.ch.1.v.1" ord="2 | 5 - 7 | last-1"/&gt;
   &lt;/split-leaf-div-at&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>In this example, the <code class="code">&lt;tok&gt;</code> states that in each of the
                        three different sources, each of the divisions corresponding to the two
                        references should be split five times, at the second, fifth, sixth, seventh,
                        and penultimate word-tokens. Note, there must be a valid word token for each
                        ref in each source.</p></div></div></div><br class="example-break"/><p>Suppose you have two transcriptions where a phrase ending one leaf
                     <code class="code">&lt;div&gt;</code> in source A actually corresponds to the beginning phrase
                  of the next leaf <code class="code">&lt;div&gt;</code> in source B. Or suppose that you wish to
                  break down a leaf <code class="code">&lt;div&gt;</code> into smaller constituent parts, to
                  facilitate more exact alignments (e.g., sentence-to-sentence, phrase-to-phrase,
                  word-to-word). Before these refined alignments can occur, the leaf divs must first
                  be segmented. A <code class="code">&lt;split-leaf-div-at&gt;</code> may be used, containing one
                  ore more <code class="code">&lt;tok&gt;</code>s (see <a class="xref" href="ch07.xhtml#tok_pattern" title="&lt;tok&gt;">the section called “<code class="code">&lt;tok&gt;</code>”</a>), whose
                  mandatory <code class="code">@src</code> points to one or more specific sources and
                     <code class="code">@ref</code> to one or more references.</p><p><code class="code">@ref</code> must refer only to leaf <code class="code">&lt;div&gt;</code>s. See <a class="xref" href="ch07.xhtml#attr_ref" title="@ref">the section called “<code class="code">@ref</code>”</a> and <a class="xref" href="ch06s02.xhtml#leaf_div_uniqueness_rule" title="Flattened References, and the Leaf Div Uniqueness Rule">Flattened References, and the Leaf Div Uniqueness Rule</a> for the
                  pattern and rules.</p><p>To split a leaf <code class="code">&lt;div&gt;</code>, you must be able to number or name word
                  tokens, so a <code class="code">&lt;tokenize&gt;</code> element must be included under
                     <code class="code">&lt;declarations&gt;</code> (see <a class="xref" href="ch08.xhtml#tan-r-tok" title="Tokenization Patterns">the section called “Tokenization Patterns”</a>). A leaf
                     <code class="code">&lt;div&gt;</code> is split by declaring one or more word-tokens that should
                  begin a new segment in each reference in each source. That word token is declared
                  either through a numerical value (or range of numbers) for <code class="code">@ord</code> or a
                  string value for <code class="code">@val</code> or both. See <a class="xref" href="ch07.xhtml#attr_ord_and_val" title="@ord and @val">the section called “<code class="code">@ord</code> and <code class="code">@val</code>”</a>
                  for the pattern.</p><p>Any leaf <code class="code">&lt;div&gt;</code> may be split as many times as one wishes.</p><p><span class="italic">Step 4: realign incorrectly aligned divisions and
                     segments</span></p><div class="example"><a id="d5e4224"/><p class="title"><strong>Example 7.14. <code class="code">&lt;realign&gt;</code>: unanchored 1</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;realign&gt;
      &lt;div-ref src="tamil" ref="bk.1:ch.4" seg="2"/&gt;
   &lt;/realign&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example states that the second segment in book 1 chapter 4 of the
                        Tamil version of a work should not be automatically aligned with any other
                        version of that work that shares the same reference. </p><p>This technique may be useful for version that have interpolations that
                        should be exempt from automatic alignment with other version of the same
                        work.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4232"/><p class="title"><strong>Example 7.15. <code class="code">&lt;realign&gt;</code>: unanchored 2</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;realign&gt;
      &lt;div-ref src="jones-1884" ref="topic.5:q.4 - topic.6:q.1 , topic.8"/&gt;
      &lt;div-ref src="denton-1822" ref="question.7 - question.9"/&gt;
      &lt;div-ref src="denton-1822" ref="discussion.4"/&gt;
   &lt;/realign&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example says that both the 1822 and 1884 versions of a work should
                        be exempt from any automatic alignment with other versions of the same work,
                        and that each of the questions from topic 5, question 4 through topic 6,
                        question 1 in one source should be matched with three questions in the
                        other. It also matches topic 8 in one source with discussion 4 in the other.
                        In all these cases, not only will those divisions be realigned, but
                        automatic alignment will be applied to their descendants. For example, if
                        there is a <code class="code">topic.8:para.1</code> in <code class="code">jones-1884</code>, it will
                        be automatically matched with <code class="code">discussion.4:para.1</code> in
                           <code class="code">denton-1822</code> (provided that there is a common underlying IRI
                        definition of <code class="code">para</code> in both sources). Note that the last two
                           <code class="code">&lt;div-ref&gt;</code>s could have been combined: <code class="code">&lt;div-ref
                           src="denton-1822" ref="question.7 - question.9 ,
                        discussion.4"/&gt;</code>.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4246"/><p class="title"><strong>Example 7.16. <code class="code">&lt;realign&gt;</code>: unanchored 3</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;split-leaf-div-at&gt;
      &lt;tok src="poem-A" ref="line 46" ord="6"/&gt;
      &lt;tok src="poem-B" ref="line 47" ord="3"/&gt;
   &lt;/split-leaf-div-at&gt;
   &lt;realign&gt;
      &lt;div-ref src="poem-A" ref="line 46" seg="2"/&gt;
      &lt;div-ref src="poem-B" ref="line 47" seg="1"/&gt;
   &lt;/realign&gt;
   &lt;realign&gt;
      &lt;div-ref src="poem-A" ref="line 47" seg="1"/&gt;
      &lt;div-ref src="poem-B" ref="line 47" seg="2"/&gt;
   &lt;/realign&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example realigns the parts of two versions of a poem, where one
                        phrase that appears at the end of line 46 in one version begins line 47 of
                        the other. The aligner (1) declares two splits, one for each version and (2)
                        declares the alignment of the two segments. </p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4253"/><p class="title"><strong>Example 7.17. <code class="code">&lt;realign&gt;</code>: unanchored 4</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;realign&gt;
      &lt;div-ref src="A-1794" ref="para 7 - para 9"/&gt;
      &lt;div-ref src="A-1885" ref="para 8 - para 9 , para 7"/&gt;
      &lt;div-ref src="A-1922" ref="para 12 - para 14"/&gt;
   &lt;/realign&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example assumes three versions of a text, where paragraphs seven
                        through nine of one version correspond to eight, nine, and seven of the
                        other and twelve through fourteen of the other.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4260"/><p class="title"><strong>Example 7.18. <code class="code">&lt;realign&gt;</code>: anchored</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;equate-works src="lxx kjv"/&gt;
   &lt;realign&gt;
      &lt;anchor-div-ref src="kjv" ref="ps.9:v.1 - ps.10:v.18"/&gt;
      &lt;div-ref src="lxx" ref="ps.9:v.2 - ps.9:v.39"/&gt;
   &lt;/realign&gt;
   &lt;realign&gt;
      &lt;anchor-div-ref src="kjv" ref="ps.11 - ps.113 | ps.117 - ps.146"/&gt;
      &lt;div-ref src="lxx" ref="ps.10 - ps.112 | ps.116 - ps.145"/&gt;
   &lt;/realign&gt;
   &lt;realign&gt;
      &lt;anchor-div-ref src="kjv" ref="ps.114:v.1 - ps.115:v.18"/&gt;
      &lt;div-ref src="lxx" ref="ps.113:1 - ps.113:26"/&gt;
   &lt;/realign&gt;
   &lt;realign&gt;
      &lt;anchor-div-ref src="kjv" ref="ps.116:v.1 - ps.116:v.19"/&gt;
      &lt;div-ref src="lxx" ref="ps.114:v.1 - ps.115:v.10"/&gt;
   &lt;/realign&gt;
   &lt;realign&gt;
      &lt;anchor-div-ref src="kjv" ref="ps.147:v.1 - ps.147:v.20"/&gt;
      &lt;div-ref src="lxx" ref="ps.146:v.1 - ps.147:v.9"/&gt;
   &lt;/realign&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example takes reconciles the numbering of the Psalms in the
                        Septuagint with that which is in most common use today. The anchored
                        technique has been used because this comes from an example where multiple
                        versions are used, so only one, labeled <code class="code">kjv</code>, has been picked as
                        the anchor. The component parts of the Septuagint version will then align
                        with any other version that aligns with the anchor.</p></div></div></div><br class="example-break"/><p>After step 3, some of the divisions and segments of a work may not be properly
                  aligned. Segments newly created by <code class="code">&lt;split-leaf-div-at&gt;</code>s may need
                  to be realigned. Or perhaps one of the sources uses a reference system that is out
                  of step with the others. </p><p>Step 4, <code class="code">&lt;realign&gt;</code>, is used to reconcile alignments within a
                  given work. N.B., to realign is to assume that there is an error in automatic
                  alignments, and that for two sources to be aligned they must, at the very least,
                  be the same work. Therefore, <code class="code">&lt;realign&gt;</code> applies only to one or more
                  versions of a single work. If it is used to realign sources that do not share the
                  same work, an error will result. (For cross-work alignment, see step 5, below.)
                  There are two types of realignment: anchored and unanchored. </p><p>An <span class="emphasis"><em>unanchored realigment</em></span> consists of one or more
                     <code class="code">&lt;div-ref&gt;</code>s, each of which takes <code class="code">@src</code> and
                     <code class="code">@ref</code> to point to one or more sources and flattened references, and
                  perhaps <code class="code">@seg</code>, to point to one or more specific segments created by a
                  preceding <code class="code">&lt;split-leaf-div-at&gt;</code>. For any range of references
                  included by <code class="code">@ref</code> (values separated by a hyphen), the left and right
                  sides must be siblings (i.e., <code class="code">&lt;div-ref src="a" ref="bk.1 -
                     bk.2:ch.1"/&gt;</code> is invalid). A range in <code class="code">@ref</code> individually
                  picks out each sibling from the first to the last (i.e., <code class="code">bk.1 - bk.3</code>
                  picks three references individually). </p><p><a id="attribute_seg"/>If <code class="code">@seg</code> is used, every <code class="code">@ref</code>
                  must point to a leaf <code class="code">&lt;div&gt;</code>. Under a given
                     <code class="code">&lt;realign&gt;</code>, each source's total number of references (determined
                  by every <code class="code">@seg</code> (if present) in every <code class="code">@ref</code> in every
                     <code class="code">&lt;div-ref&gt;</code> that invokes that source) must be identical, or an
                  error will result. Furthermore, there must be enough
                     <code class="code">&lt;split-leaf-div-at&gt;</code> declarations for each <code class="code">@ref</code> in
                  each <code class="code">@src</code>, or an error will result.</p><p>The effect of an unanchored <code class="code">&lt;realign&gt;</code> is (1) to sever each
                  referenced <code class="code">&lt;div&gt;</code> from any automatic alignment and (2) to realign
                  each source's nth reference (div or segment) with the nth reference in every other
                  other source, if any, invoked in the <code class="code">&lt;realign&gt;</code>. If only one source
                  is invoked in a <code class="code">&lt;realign&gt;</code>, only the first effect takes place: the
                  references are effectively severed from any automatic alignment with any other
                  version for that source. For every <code class="code">&lt;div&gt;</code> in a new realignment,
                  descendants will be automatically aligned.</p><p>An <span class="emphasis"><em>anchored realignment</em></span> differs from the unanchored form
                  in that it begins with a single <code class="code">&lt;anchor-div-ref&gt;</code> as the first
                  child of <code class="code">&lt;realign&gt;</code>. It is exactly like <code class="code">&lt;div-ref&gt;</code>,
                  except that the mandatory <code class="code">@src</code> may point only to a single source.
                     <code class="code">&lt;anchor-div-ref&gt;</code> is then followed by one or more
                     <code class="code">&lt;div-ref&gt;</code>s. Once again, each source's total number of
                  references must be identical, since every source's nth reference will be realigned
                  to the nth reference in the anchor.</p><p>The effect of an anchored <code class="code">&lt;realign&gt;</code> is to move each referenced
                     <code class="code">&lt;div&gt;</code>'s automatic alignment to a different place. This method
                  is helpful in alignments of large numbers of sources, where a few do not follow
                  the majority pattern and need to be synchronized.</p><p>For both anchored and unanchored alignments alike, the order of
                     <code class="code">&lt;div-ref&gt;</code>s is immaterial. Any processor of your data will
                  handle the references according to source document order.</p><p><span class="italic">Step 5: add new alignments</span></p><div class="example"><a id="d5e4316"/><p class="title"><strong>Example 7.19. <code class="code">&lt;align&gt;</code>: standard quotation</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;align&gt;
      &lt;div-ref src="lecture-bra" ref="para.4:sent.2"/&gt;
      &lt;div-ref src="hamlet-jap" ref="act I:scene 1:line 1"/&gt;
   &lt;/align&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example presumes a written lecture, in multiple versions, that
                        sometimes quotes from <span class="italic">Hamlet</span>, also in
                        various versions. <code class="code">&lt;align&gt;</code> states that in the source
                           <code class="code">lecture-bra</code>, paragraph 4 sentence 2, there is a quote from
                           <span class="italic">Hamlet</span>, designated in the source
                           <code class="code">hamlet-jap</code> as act I, scene 1, line 1. Anything that aligns
                        with the first reference will align with anything that aligns with the
                        second.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4328"/><p class="title"><strong>Example 7.20. <code class="code">&lt;align&gt;</code>: standard quotation, <code class="code">@distribute =
                        true</code></strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;align distribute="true"&gt;
      &lt;div-ref src="article-A" ref="sect.4:blockquote.2:para.1 - sect.4:blockquote.2:para.4"/&gt;
      &lt;div-ref src="quran-1" ref="sura.4:verse.3 - sura.4:verse.6"/&gt;
   &lt;/align&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example assumes an article that quotes from the Qur'an, sura 3 (The
                        Women), 3-6. If <code class="code">@distribute</code> were <code class="code">false</code> or missing,
                        the references in <code class="code">article-A</code> would be taken as aligning en bloc
                        with the references in <code class="code">quran-1</code>. But because
                           <code class="code">@distribute</code> is <code class="code">true</code>, the effect is to create
                        four separate, more specific, alignments.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4342"/><p class="title"><strong>Example 7.21. <code class="code">&lt;align&gt;</code>: standard quotation, <code class="code">@exclusive =
                     true</code></strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;align exclusive="true"&gt;
      &lt;div-ref src="S2" ref="century VI chapter 88"/&gt;
      &lt;div-ref src="lxx" ref="bk Judg.ch 5.v 20"/&gt;
   &lt;/align&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example illustrates a situation where one version of a work quotes
                        from Judges 5:20 (Septuagint) but the other does not. Because
                           <code class="code">@exclusive</code> is set to <code class="code">true</code>, no other versions
                        will be automatically included in the alignment.</p></div></div></div><br class="example-break"/><div class="example"><a id="d5e4352"/><p class="title"><strong>Example 7.22. <code class="code">&lt;align&gt;</code>: one work self-alignment, three options</strong></p><div class="example-contents"><p>
                     </p><pre class="programlisting">      ...........
   &lt;align xml:id="lords-prayer-1"&gt;
      &lt;div-ref src="nt-grc" ref="bk.Matt:ch.6:v.9 - bk.Matt:ch.6:v.13" /&gt;
   &lt;/align&gt;
   &lt;align xml:id="lords-prayer-2"&gt;
      &lt;div-ref src="nt-grc" ref="bk.Luke:ch.11:v.2 - bk.Luke:ch.11:v.4" /&gt;
   &lt;/align&gt;
   &lt;align alignments="lords-prayer-1 lords-prayer-2"/&gt;
      ...........   </pre><p>
                  </p><p>
                     </p><pre class="programlisting">      ...........
   &lt;split-leaf-div-at&gt;
      &lt;tok src="nt-grc" ref="bk.Matt:ch.6:v.9 , bk.Matt:ch.6:v.10" ord="5"/&gt;
      &lt;tok src="nt-grc" ref="bk.Luke:ch.11:v.2" ord="7, last-3"/&gt;
      &lt;tok src="nt-grc" ref="bk.Luke:ch.11:v.4" ord="last" val="καὶ"/&gt;
   &lt;/split-leaf-div-at&gt;
   &lt;align xml:id="lords-prayer-1"&gt;
      &lt;div-ref src="nt-grc" ref="bk.Matt:ch.6:v.9:seg.2"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Matt:ch.6:v.10:seg.1"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Matt:ch.6:v.11"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Matt:ch.6:v.12"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Matt:ch.6:v.13"/&gt;
   &lt;/align&gt;
   &lt;align xml:id="lords-prayer-2"&gt;
      &lt;div-ref src="nt-grc" ref="bk.Luke:ch.11:v.2:seg.2"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Luke:ch.11:v.2:seg.3"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Luke:ch.11:v.3"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Luke:ch.11:v.4:seg.1"/&gt;
      &lt;div-ref src="nt-grc" ref="bk.Luke:ch.11:v.4:seg.2"/&gt;
   &lt;/align&gt;
   &lt;align alignments="lords-prayer-1 lords-prayer-2" distribute="true" exclusive="true"/&gt;
      ...........   </pre><p>
                  </p><p>
                     </p><pre class="programlisting">      ...........
   &lt;split-leaf-div-at&gt;
      &lt;tok src="nt-grc" ref="bk.Matt:ch.6:v.9 , bk.Matt:ch.6:v.10" ord="5"/&gt;
      &lt;tok src="nt-grc" ref="bk.Luke:ch.11:v.2" ord="7, last-3"/&gt;
      &lt;tok src="nt-grc" ref="bk.Luke:ch.11:v.4" ord="last" val="καὶ"/&gt;
   &lt;/split-leaf-div-at&gt;
   &lt;align xml:id="lords-prayer-1"&gt;
      &lt;div-ref src="nt-grc"
         ref="bk.Matt:ch.6:v.9:seg.2 , bk.Matt:ch.6:v.10:seg.1 , bk.Matt:ch.6:v.11 - bk.Matt:ch.6:v.13"
      /&gt;
   &lt;/align&gt;
   &lt;align xml:id="lords-prayer-2"&gt;
      &lt;div-ref src="nt-grc"
         ref="bk.Luke:ch.11:v.2:seg.2 , bk.Luke:ch.11:v.2:seg.3 , bk.Luke:ch.11:v.3 ,
         bk.Luke:ch.11:v.4:seg.1 , bk.Luke:ch.11:v.4:seg.2"
      /&gt;
   &lt;/align&gt;
   &lt;align alignments="lords-prayer-1 lords-prayer-2" distribute="true" exclusive="true"/&gt;
      ...........   </pre><p>
                  </p><div class="caption"><p>This example shows three ways of self-aligning the the two versions of
                        the Lord's Prayer in a single work, the New Testament.</p><p>The first method shows a rough alignment, connecting the five verses of
                        Matthew with the three of Luke. This alignment provides only a rough
                        alignment, but it will be applicable to any other version of the New
                        Testament cited in the TAN-A-div file as a source.</p><p>The second and third alignments are equivalent ways of doing a more
                        refined alignment. The only difference is that the second places each of the
                        five parts of each version in its own <code class="code">&lt;div-ref&gt;</code> whereas the
                        third collapses each into a single <code class="code">&lt;div-ref&gt;</code>. Legibility
                        should be the key to deciding which method should be preferred.</p><p>The refined alignments begin by declaring two splits in the verses in
                        Matthew (both verses 9 and 10 happen to have natural breaks at the fifth
                        word token, excluding punctuation). The Luke version has three splits.
                        Notice that the aligner has chosen not to mention Matthew 6.10b because
                        there is no corresponding phrase in Luke. (Another aligner may have
                        approached this differently.) </p><p>The refined alignment offers precision, but at the expense of broad
                        applicability. Any other version of the New Testament included in the
                        TAN-A-div file that has not been properly segmented would be misaligned.
                        Therefore <code class="code">@exclusive</code> is declared to be <code class="code">true</code>, to
                        exempt the alignment from being transitively applied to any other New
                        Testament source.</p></div></div></div><br class="example-break"/><p>At this point, each work's versions should be aligned with each other. You are
                  now in a position to declare new alignments to supplement the ones that will be
                  automatically generated from steps 1 through 4. </p><p>The fifth step, one or more <code class="code">&lt;align&gt;</code>s, is used normally when you
                  wish to indicate where one work quotes another, or a single work repeats texts
                  that merit alignment. Unlike <code class="code">&lt;realign&gt;</code>, <code class="code">&lt;align&gt;</code>
                  does not negate any other alignments, and it allows sources from multiple works to
                  be mentioned. Furthermore, whereas multiple values of <code class="code">@ref</code> govered by
                  a <code class="code">&lt;realign&gt;</code> were taken individually, under
                  <code class="code">&lt;align&gt;</code>, any <code class="code">@ref</code> will usually be treated as grouped
                  by work, but it may also be taken individually (see <a class="xref" href="ch07s03.xhtml#attr_distribute">the section called “Data (<code class="code">&lt;body&gt;</code>)”</a>).</p><p>In addition, <code class="code">&lt;align&gt;</code> takes several special attributes, all
                  optional. </p><p>The first is <code class="code">@strength</code>. As mentioned above, TAN-A-div files do not
                  furnish a mechanism to indicate the reason why the sources are being aligned
                  (e.g., quotation, translation), and so it does not admit any doubt. If you are
                  aligning a text you are doing it with certitude. You are not committing yourself
                  to any assertions in your alignment. Yet it is understood that some alignments are
                  stronger than others. Verbatim quotations, for example, should be differentiated
                  from indirect references. For these purposes, <code class="code">@strength</code> may be used.
                  It takes a rational decimal number from 0 to 1 stipulating how strong the
                  alignment should be. The values are completely arbitrary, and strictly speaking no
                  meaning is to be assigned to this attribute. In practice, however, this value will
                  be a guage of how close the alignment is. If you need to specify exactly what
                  concept of text reuse attaches to an alignment, you should use TAN-A-tok.</p><p>The second special attribute is <code class="code">@exclusive</code>, which indicates
                  through a boolean value whether an alignment is to be applied to other implicitly
                  aligned work versions or not. If set to <code class="code">true</code>, then the alignment is
                  excluded from transitive alignments. Take, for example, work A and work B, each
                  with three sources. If an <code class="code">&lt;align&gt;</code> creates an alignment between
                  passages in A1 and B1, then that alignment applies to A1-3 and B1-3 if
                     <code class="code">@exclusive</code> is <code class="code">false</code> and it does not if it is
                     <code class="code">true</code>. The default value is <code class="code">false</code>, because most of the
                  time, when you say that one work quotes from another, you mean that statement to
                  be true for all versions of the work. But on occasion, one versions of a work
                  might have a quotation that is lacking in another. In these cases it is important
                  to set <code class="code">@exclusive</code> to <code class="code">true</code>.</p><p><a id="attr_distribute"/>The third attribute is <code class="code">@distribute</code>, which
                  takes a boolean value. If <code class="code">true</code>, then <code class="code">@ref</code> functions
                  identically to the way it does in step 4, under <code class="code">&lt;realign&gt;</code>: each
                  reference made by <code class="code">@ref</code> or <code class="code">@seg</code> will be treated
                  individually. But if <code class="code">false</code>, then the values of <code class="code">@ref</code> or
                     <code class="code">@seg</code> will be treated as a group, one group per work. The default
                  value is <code class="code">false</code> because in most situations a single
                     <code class="code">&lt;align&gt;</code> will be dealing with only one quotation, and the intent
                  is not to distribute each reference, but to group and then align them. But if you
                  are aligning a series of quotations of one work in another, you may find that
                     <code class="code">@distribute</code> set to be <code class="code">true</code> allows you collapse
                  multiple <code class="code">&lt;align&gt;</code>s into a single one. Keep in mind, though, that
                  the total number of references per work must be identical, or the file will be
                  invalid. Furthermore, if <code class="code">@distribute</code> is true, then the beginning and
                  ending references for any range in <code class="code">@ref</code> (e.g., <code class="code">ref.A -
                     ref.C</code>) must be siblings, and will be treated as referring to the start
                  of the range, the end of the range, the intermediate siblings (e.g., <code class="code">ref.A -
                     ref.C</code> will be treated as referring to three items: <code class="code">ref.A</code>,
                     <code class="code">ref.B</code>, and <code class="code">ref.C</code>). </p><p>A fourth attribute is an optional <code class="code">@xml:id</code>, which allows you to
                  name an alignment cluster. This is used principally by other
                     <code class="code">&lt;align&gt;</code>s that take the fifth optional attribute,
                     <code class="code">@alignments</code>, which points to two or more other
                     <code class="code">&lt;align&gt;</code>s by means of their <code class="code">@xml:id</code> values. This is
                  the only way you can create new alignments within a single work (self-alignment).
                  For every appearance of a passage in a given work use a single
                     <code class="code">&lt;align&gt;</code>, give it an <code class="code">@xml:id</code>, then create one more
                     <code class="code">&lt;align&gt;</code> that points through <code class="code">@alignments</code> to all the
                  relevant <code class="code">&lt;align&gt;</code>s. But <code class="code">@alignments</code> need not be used
                  for self-alignment. It may point to any <code class="code">&lt;align&gt;</code> that takes an
                     <code class="code">@xml:id</code>, no matter its content. But to avoid fatally recursive
                  loops created by reflexive alignments, <code class="code">@xml:id</code> and
                     <code class="code">@alignments</code> are mutually exclusive.</p><p>Every <code class="code">&lt;align&gt;</code> that has <code class="code">@alignments</code> is empty. Every
                  other <code class="code">&lt;align&gt;</code> takes one or more <code class="code">&lt;div-ref&gt;</code>s, which
                  indicates through mandatory <code class="code">@src</code> and <code class="code">@ref</code>, and optional
                     <code class="code">@seg</code>, one or more references that should be aligned (see <a class="xref" href="ch07.xhtml#class_2_body" title="Class 2 Data Patterns (&lt;body&gt;)">the section called “Class 2 Data Patterns (<code class="code">&lt;body&gt;</code>)”</a>). </p><p>The constraints on <code class="code">&lt;div-ref&gt;</code> are identical to those in step 4
                  (see <a class="xref" href="ch07s03.xhtml#attribute_seg">the section called “Data (<code class="code">&lt;body&gt;</code>)”</a>) with one caveat. Any
                     <code class="code">&lt;div-ref&gt;</code> that is a child of an <code class="code">&lt;align&gt;</code> may
                  take the optional <code class="code">@strength</code>. (If not present, the value is assumed to
                  be <code class="code">1</code>.) This feature is helpful when you wish to indicate in a
                  quotation that one work does not align as strongly with the rest of the group as
                  do the others. Note, in these cases the value of <code class="code">@strength</code> is to be
                  applied to the work, not just to the source. If you wish to differentiate between
                  how strongly different versions of a work align with another work, you should
                  create a separate <code class="code">&lt;align&gt;</code> for each relevant parallel, with
                     <code class="code">@exclusive</code> set to <code class="code">true</code>.</p><p>Overall, <code class="code">&lt;align&gt;</code> can be thought of as a group of clustered
                  references, one cluster per work. Those clusters may have constitutent references
                  that are very small (e.g., a segment that is a single word) or quite large, and
                  with descendants of its own (e.g., an entire book). A cluster could be a single
                  reference or quite a large number of them. Therefore, clusters that have been
                  grouped by <code class="code">&lt;align&gt;</code> may be quite heterogenous in number, length,
                  and hierarchy. And that is how it should be. A novel may in a single sentence
                  synthesize from another work multiple passages of much greater length. The
                  specifics of how the constituent parts of one cluster align with the constituent
                  parts of another cannot be predicted or dictated. All an <code class="code">&lt;align&gt;</code>
                  does is say, in effect, "This group of passages from work A are to be aligned with
                  this group of passages from work B." It is up to the processor of a TAN-A-div file
                  to determine if the alignment should be taken <span class="emphasis"><em>en bloc</em></span>, or if
                  it should be distributed into individual parts, and if so, upon what basis. If you
                  wish to control how that distribution occurs in a given <code class="code">&lt;align&gt;</code>,
                  you must break it up into separate individual <code class="code">&lt;align&gt;</code>s.</p><p>As in step 4, the order of <code class="code">&lt;div-ref&gt;</code>s in an
                     <code class="code">&lt;align&gt;</code> is immaterial. Any processor of your data will handle
                  references according to the document order of the sources.</p><p>The five steps involved in creating the <code class="code">&lt;body&gt;</code> for a TAN-A-div
                  file are, in general, rather simple. If some of the description of this section
                  seems unnecessarily detailed and complex, consult examples of TAN-A-div
                  files.</p></div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s02.xhtml">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.xhtml">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s04.xhtml">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Alignments: Principles and Assumptions </td><td width="20%" align="center"><a accesskey="h" href="index.xhtml">Home</a></td><td width="40%" align="right" valign="top"> Token-Based Alignments (<code class="code">&lt;TAN-A-tok&gt;</code>)</td></tr></table></div></body></html>