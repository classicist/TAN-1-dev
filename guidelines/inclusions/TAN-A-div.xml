<?xml version="1.0" encoding="UTF-8"?><section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0" xmlns:sch="http://purl.oclc.org/dsdl/schematron" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:tan="tag:textalign.net,2015:ns" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:sqf="http://www.schematron-quickfix.com/validator/process" version="5.0"><title>TAN-A-div elements and attributes summarized</title><section xml:id="element-anchor-div-ref"><title><code>&lt;anchor-div-ref&gt;</code></title><para>The element <code>anchor-div-ref</code> defines a <code><link linkend="element-div">&lt;div&gt;</link></code> to which other <code><link linkend="element-div">&lt;div&gt;</link></code>s in other versions of the same work should be realigned (via <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s that follow). The first child of a <code><link linkend="element-realign">&lt;realign&gt;</link></code>, it is constructed exactly like <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>, except that the mandatory <code><link linkend="attribute-src">@src</link></code> may point only to a single source. </para><para><code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code> is always followed by one or more <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s. </para><para>If <code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code> points to only one reference (i.e., <code><link linkend="attribute-src">@src</link></code>, <code><link linkend="attribute-ref">@ref</link></code>, and <code><link linkend="attribute-seg">@seg</link></code> [if present] each have only one value) then however many references are made in subsequent <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s, they will all be realigned to that one anchor reference. </para><para>But if <code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code> has more than one reference, then distribution is in effect. Every nth reference will be the anchor for the nth reference in subsequent <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s (grouped by source).</para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
<code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-src">@src</link></code>,
   <code><link linkend="attribute-ref">@ref</link></code>,
   <code><link linkend="attribute-seg">@seg</link></code>?</synopsis><para>Used by: <code><link linkend="element-realign">&lt;realign&gt;</link></code> </para><caution><itemizedlist><listitem><para>Every ref cited must be found in every source.</para></listitem><listitem><para>Sources that take implicit div type references may not be mixed with those that take explicit ones.</para></listitem><listitem><para>Every segment cited must appear in every div in every source</para></listitem><listitem><para><code><link linkend="attribute-seg">@seg</link></code> should not be used on a div that has not been split</para></listitem><listitem><para><code><link linkend="attribute-seg">@seg</link></code> may be used only with leaf divs</para></listitem><listitem><para>An anchor div ref must point to only one source.</para></listitem><listitem><para>An anchor may not be realigned by a div ref.</para></listitem><listitem><para>Any <code><link linkend="element-align">&lt;align&gt;</link></code> where <code><link linkend="attribute-exclusive">@exclusive</link></code> is false may not cite more than one source.</para></listitem></itemizedlist></caution><example><title><code>&lt;anchor-div-ref&gt;</code></title><programlisting>      &lt;realign&gt;
         <emphasis role="bold">&lt;anchor-div-ref src="eng-us" ref="4"/&gt;</emphasis>
         &lt;div-ref src="ger" ref="e"/&gt;
      &lt;/realign&gt;
</programlisting></example></section><section xml:id="element-div-ref"><title><code>&lt;div-ref&gt;</code></title><para>The element <code>div-ref</code> points to one or more <code><link linkend="element-div">&lt;div&gt;</link></code>s (or segments of <code><link linkend="element-div">&lt;div&gt;</link></code>s) in one or more sources</para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
<code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-src">@src</link></code>,
   <code><link linkend="attribute-ref">@ref</link></code>,
   <code><link linkend="attribute-seg">@seg</link></code>?</synopsis><para>Used by: <code><link linkend="element-align">&lt;align&gt;</link></code> <code><link linkend="element-realign">&lt;realign&gt;</link></code> </para><example><title><code>&lt;div-ref&gt;</code></title><programlisting>      &lt;realign&gt;
         &lt;anchor-div-ref src="eng-us" ref="4"/&gt;
         <emphasis role="bold">&lt;div-ref src="ger" ref="e"/&gt;</emphasis>
      &lt;/realign&gt;
</programlisting></example></section><section xml:id="element-div-type-ref"><title><code>&lt;div-type-ref&gt;</code></title><para>The element <code>div-type-ref</code> points to a <code><link linkend="element-div-type">&lt;div-type&gt;</link></code> in one or more sources. You must use either the <code><link linkend="attribute-xmlid">@xml:id</link></code> assigned by the source to that div type or its renamed value, if renamed under <code><link linkend="element-rename-div-types">&lt;rename-div-types&gt;</link></code>. </para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
   <code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-src">@src</link></code>,
   <code><link linkend="attribute-div-type-ref">@div-type-ref</link></code></synopsis><para>Used by: <code><link linkend="element-equate-div-types">&lt;equate-div-types&gt;</link></code> </para><caution><itemizedlist><listitem><para>Div-type-refs may not be duplicated.</para></listitem></itemizedlist></caution><example><title><code>&lt;div-type-ref&gt;</code></title><programlisting>   &lt;body&gt;
      &lt;equate-works src="eng-uk ger"/&gt;
      &lt;equate-div-types&gt;
         <emphasis role="bold">&lt;div-type-ref src="ger" div-type-ref="Zeile"/&gt;</emphasis>
         <emphasis role="bold">&lt;div-type-ref src="eng-uk" div-type-ref="line"/&gt;</emphasis>
      &lt;/equate-div-types&gt;
      &lt;split-leaf-div-at&gt;
         &lt;tok src="eng-us" ref="2" ord="last"/&gt;
      &lt;/split-leaf-div-at&gt;
      &lt;realign&gt;
         &lt;anchor-div-ref src="eng-us" ref="4"/&gt;
         &lt;div-ref src="ger" ref="e"/&gt;
      &lt;/realign&gt;
   &lt;/body&gt;
</programlisting></example></section><section xml:id="element-equate-div-types"><title><code>&lt;equate-div-types&gt;</code></title><para>The element <code>equate-div-types</code> declares an ad hoc equivalence between div types that are not defined by their sources as being identical.</para><para>Any two <code><link linkend="element-div-type">&lt;div-type&gt;</link></code>s that share at least one <code><link linkend="element-IRI">&lt;IRI&gt;</link></code> value will be treated as equivalent; those that do not will be treated as different div types. <code><link linkend="element-equate-div-types">&lt;equate-div-types&gt;</link></code> permits you to make an ad hoc equivalence between one or more <code><link linkend="element-div-type-ref">&lt;div-type-ref&gt;</link></code>s.</para><para><code><link linkend="element-equate-div-types">&lt;equate-div-types&gt;</link></code> are assumed to be greedy and transitive. If div type X of source A is stated to be equivalent to type Y of source B, then any div type in any source identical to X will be identical to any div type in any source identical to Y. So to equate two div types, each with multiple members, you need declare the equivalence between only one member of each work, not all of them. </para><para>This element does not imply that the two types of division are, in reality, one and the same. It merely states that, for the purposes of this alignment, they should be treated as equivalent.</para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
   <code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-include">@include</link></code> |
      (<code><link linkend="element-div-type-ref">&lt;div-type-ref&gt;</link></code>,
      <code><link linkend="element-div-type-ref">&lt;div-type-ref&gt;</link></code>+)</synopsis><para>Used by: <code><link linkend="element-body">&lt;body&gt;</link></code> </para><important><itemizedlist><listitem><para>Div types that already have at least one shared IRI need not be equated.</para></listitem></itemizedlist></important><example><title><code>&lt;equate-div-types&gt;</code></title><programlisting>   &lt;body&gt;
      &lt;equate-works src="eng-uk ger"/&gt;
      <emphasis role="bold">&lt;equate-div-types&gt;</emphasis>
         &lt;div-type-ref src="ger" div-type-ref="Zeile"/&gt;
         &lt;div-type-ref src="eng-uk" div-type-ref="line"/&gt;
      <emphasis role="bold">&lt;/equate-div-types&gt;</emphasis>
      &lt;split-leaf-div-at&gt;
         .........
      &lt;/split-leaf-div-at&gt;
      &lt;realign&gt;
         &lt;anchor-div-ref src="eng-us" ref="4"/&gt;
         &lt;div-ref src="ger" ref="e"/&gt;
      &lt;/realign&gt;
   &lt;/body&gt;
</programlisting></example></section><section xml:id="element-equate-works"><title><code>&lt;equate-works&gt;</code></title><para>The element <code>equate-works</code> declares an ad hoc equivalence between works that are not defined by their sources as being identical.</para><para>Any two <code><link linkend="element-work">&lt;work&gt;</link></code>s that share at least one <code><link linkend="element-IRI">&lt;IRI&gt;</link></code> value will be treated as equivalent; those that do not will be treated as different div types. <code><link linkend="element-equate-works">&lt;equate-works&gt;</link></code> permits you to make an ad hoc equivalence between one or more <code><link linkend="element-work">&lt;work&gt;</link></code>s.</para><para><code><link linkend="element-equate-div-types">&lt;equate-div-types&gt;</link></code> are assumed to be greedy and transitive. If work X of source A is stated to be equivalent to work Y of source B, then any work in any source identical to X will be identical to any work in any source identical to Y. So to equate two works, each with multiple members, you need declare the equivalence between only one member of each work, not all of them.</para><para>This element does not imply that the two works are, in reality, one and the same. It merely states that, for the purposes of this alignment, they should be treated as equivalent.</para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
   <code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-include">@include</link></code> |
   <code><link linkend="attribute-src">@src</link></code></synopsis><para>Used by: <code><link linkend="element-body">&lt;body&gt;</link></code> </para><important><itemizedlist><listitem><para>Works that already have at least one shared IRI need not be equated.</para></listitem></itemizedlist></important><note><itemizedlist><listitem><para>If there is a question mark in <code><link linkend="attribute-src">@src</link></code>, validation will return a list of works currently clustered</para></listitem></itemizedlist></note><example><title><code>&lt;equate-works&gt;</code></title><programlisting>   &lt;body&gt;
      <emphasis role="bold">&lt;equate-works src="eng-uk ger"/&gt;</emphasis>
      &lt;equate-div-types&gt;
         &lt;div-type-ref src="ger" div-type-ref="Zeile"/&gt;
         &lt;div-type-ref src="eng-uk" div-type-ref="line"/&gt;
      &lt;/equate-div-types&gt;
      &lt;split-leaf-div-at&gt;
         &lt;tok src="eng-us" ref="2" ord="last"/&gt;
      &lt;/split-leaf-div-at&gt;
      &lt;realign&gt;
         &lt;anchor-div-ref src="eng-us" ref="4"/&gt;
         &lt;div-ref src="ger" ref="e"/&gt;
      &lt;/realign&gt;
   &lt;/body&gt;
</programlisting></example></section><section xml:id="element-realign"><title><code>&lt;realign&gt;</code></title><para>The element <code>realign</code> corrects wrongly aligned divisions and segments in versions of the same work. This element (1) exempts any divs or segments referred to in children <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s from their default alignments and (2) realigns them together as a group. Realignments have two types.</para><para>An UNANCHORED realigment is useful for divisions that need to be removed from any automatic alignment. It consists solely of one or more <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s. The effect is (1) to sever each referenced <code><link linkend="element-div">&lt;div&gt;</link></code> from any automatic alignment and (2) to realign each source's nth reference (div or segment) with the nth reference in every other other source, if any, invoked in the <code><link linkend="element-realign">&lt;realign&gt;</link></code>. If only one source is invoked in a <code><link linkend="element-realign">&lt;realign&gt;</link></code>, only the first effect takes place: the references are effectively severed from any automatic alignment with any other version for that source. Realignment is inherited, affecting not only the specified <code><link linkend="element-div">&lt;div&gt;</link></code>s but their descendants too.</para><para>An ANCHORED realignment is useful for making sure a minority of misplaced <code><link linkend="element-div">&lt;div&gt;</link></code>s align with the majority. It begins with a single <code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code> as the first child of <code><link linkend="element-realign">&lt;realign&gt;</link></code>, then one or more <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s. The effect is (1) to sever each referenced <code><link linkend="element-div">&lt;div&gt;</link></code> from any automatic alignment and (2) to realign each source's nth reference (div or segment) with the nth reference in the anchor. If <code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code> points to only one reference then all subsequent <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s will be tethered collectively to that one anchor reference.</para><para>Unanchored <code><link linkend="element-realign">&lt;realign&gt;</link></code>s effectively sever every <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code> from any automatic alignment. But anchored ones do not sever automatic alignment; they merely shift it to the anchor. This method is helpful for synchronizing a few sources with the reference system followed by the majority.</para><para>Because of the distributive nature of the realignment, every value of <code><link linkend="attribute-ref">@ref</link></code> that involves a hyphen must have siblings on the left and right side of the hyphen (i.e., ref="bk.1 - bk.2:ch.1" would be invalid).</para><para>This element is source-specific and not subject to any transitive properties. The assertions apply only to the specific sources that are cited.</para><para>If <code><link linkend="attribute-seg">@seg</link></code> is used, every <code><link linkend="attribute-ref">@ref</link></code> must point to a leaf <code><link linkend="element-div">&lt;div&gt;</link></code>, and <code><link linkend="attribute-seg">@seg</link></code> must point to a valid segment defined by <code><link linkend="element-split-leaf-div-at">&lt;split-leaf-div-at&gt;</link></code>.</para><para>For both anchored and unanchored alignments alike, the order of <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>s is immaterial.</para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
   <code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-include">@include</link></code> |
      (<code><link linkend="element-comment">&lt;comment&gt;</link></code>* &amp;
         (<code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code>?,
         <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>+))</synopsis><para>Used by: <code><link linkend="element-body">&lt;body&gt;</link></code> </para><caution><itemizedlist><listitem><para>realign sources must all share the same work</para></listitem><listitem><para>Distribution enforced: each source must have the same number of single references</para></listitem></itemizedlist></caution><example><title><code>&lt;realign&gt;</code></title><programlisting>   &lt;body&gt;
      &lt;equate-works src="eng-uk ger"/&gt;
      &lt;equate-div-types&gt;
         &lt;div-type-ref src="ger" div-type-ref="Zeile"/&gt;
         &lt;div-type-ref src="eng-uk" div-type-ref="line"/&gt;
      &lt;/equate-div-types&gt;
      &lt;split-leaf-div-at&gt;
         .........
      &lt;/split-leaf-div-at&gt;
      <emphasis role="bold">&lt;realign&gt;</emphasis>
         &lt;anchor-div-ref src="eng-us" ref="4"/&gt;
         &lt;div-ref src="ger" ref="e"/&gt;
      <emphasis role="bold">&lt;/realign&gt;</emphasis>
   &lt;/body&gt;
</programlisting></example></section><section xml:id="element-split-leaf-div-at"><title><code>&lt;split-leaf-div-at&gt;</code></title><para>The element <code>split-leaf-div-at</code> creates ad hoc splits in leaf <code><link linkend="element-div">&lt;div&gt;</link></code>s, to facilitate alignments and realignments of textual units smaller than leaf <code><link linkend="element-div">&lt;div&gt;</link></code>s. Any leaf div may be split as many times as one wishes, but never smaller than the token level, as defined by <code><link linkend="element-tokenization">&lt;tokenization&gt;</link></code>s.</para><synopsis><emphasis>Definition:</emphasis>
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
   <code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="attribute-include">@include</link></code> |
      (<code><link linkend="element-comment">&lt;comment&gt;</link></code>* &amp;
      <code><link linkend="element-tok">&lt;tok&gt;</link></code>+)</synopsis><para>Used by: <code><link linkend="element-body">&lt;body&gt;</link></code> </para><caution><itemizedlist><listitem><para>If a leaf div is to be split, there must be at least one tokenization declared.</para></listitem></itemizedlist></caution><example><title><code>&lt;split-leaf-div-at&gt;</code></title><programlisting>   &lt;body&gt;
      .........
      &lt;equate-div-types&gt;
         .........
      &lt;/equate-div-types&gt;
      <emphasis role="bold">&lt;split-leaf-div-at&gt;</emphasis>
         &lt;tok src="eng-us" ref="2" ord="last"/&gt;
      <emphasis role="bold">&lt;/split-leaf-div-at&gt;</emphasis>
      &lt;realign&gt;
         .........
      &lt;/realign&gt;
   &lt;/body&gt;
</programlisting></example></section><section xml:id="element-TAN-A-div"><title><code>&lt;TAN-A-div&gt;</code></title><para>The element <code>TAN-A-div</code> specifies that the file is a div-based TAN alignment file. Root element.</para><synopsis><emphasis>Definition:</emphasis>
   <code><link linkend="attribute-id">@id</link></code>,
   <code><link linkend="attribute-TAN-version">@TAN-version</link></code>,
   (<code><link linkend="attribute-ed-who">@ed-who</link></code>,
   <code><link linkend="attribute-ed-when">@ed-when</link></code>)?,
   <code><link linkend="element-head">&lt;head&gt;</link></code>,
   <code><link linkend="element-body">&lt;body&gt;</link></code></synopsis><para>Used by: none</para><tip><para><emphasis role="bold">Schematron Quick Fix: Get local source element with this document's IRI + name pattern </emphasis>Suppose you find a TAN file that you wish to make a source for another. Selecting
               this option will insert a tan:source element as the next child, complete with the
               appropriate values for tan:IRI and tan:name, and with a tan:location that points to
               the local directory.</para></tip><tip><para><emphasis role="bold">Schematron Quick Fix: Get absolute source element with this document's IRI + name pattern </emphasis>As above, but with an absolute URL.</para></tip><tip><para><emphasis role="bold">Schematron Quick Fix: Get local inclusion element with this document's IRI + name pattern </emphasis>Suppose you find a TAN file that has elements you want to automatically include
               in another. Selecting this option will insert a tan:include element as the next
               child, complete with the appropriate values for tan:IRI and tan:name, and with a
               tan:location that points to the local directory.</para></tip><tip><para><emphasis role="bold">Schematron Quick Fix: Get absolute inclusion element with this document's IRI + name pattern </emphasis>As above, but with an absolute URL.</para></tip><example><title><code>&lt;TAN-A-div&gt;</code></title><programlisting><emphasis role="bold">&lt;TAN-A-div TAN-version="1" id="tag:parkj@textalign.net,2015:ring01-TAN-A-ring02"&gt;</emphasis>
   &lt;head&gt;
      .........
   &lt;/head&gt;
   &lt;body&gt;
      .........
   &lt;/body&gt;
<emphasis role="bold">&lt;/TAN-A-div&gt;</emphasis>
</programlisting></example></section><section xml:id="attribute-distribute"><title><code>@distribute</code></title><para>The attribute <code>distribute</code> indicates whether values should be matched one-to-one, or grouped. If false (default) then each set of references in a single <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code> will be treated as a set and aligned against every other <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code> set. If true, then every nth ref in every set (defined by a single <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code>) will be aligned with the nth ref in every other set. Therefore the number of references derived from <code><link linkend="attribute-refs">@refs</link></code> must be identical.  </para><synopsis><emphasis>Definition:</emphasis>
boolean </synopsis><para>Used by: <code><link linkend="element-align">&lt;align&gt;</link></code> </para></section><section xml:id="attribute-exclusive"><title><code>@exclusive</code></title><para>The attribute <code>exclusive</code> indicates whether an alignment should be treated as non-transitive or transitive. If <code><link linkend="attribute-distribute">@distribute</link></code> is false (default, and therefore unnecessary to declare), then if X is aligned with Y, then anything that aligns with X will align with anything that aligns with Y. If true then the alignment holds only between the specified references. The latter is useful, e.g., for specifying cases where one version of a work uniquely quotes from another. </para><synopsis><emphasis>Definition:</emphasis>
boolean </synopsis><para>Used by: <code><link linkend="element-align">&lt;align&gt;</link></code> </para></section><section xml:id="attribute-seg"><title><code>@seg</code></title><para>The attribute <code>seg</code> picks specific segments in a leaf div (and only to leaf divs). There must be an appropriate number of splits declared for those leaf divs in <code><link linkend="element-split-leaf-div-at">&lt;split-leaf-div-at&gt;</link></code>.</para><synopsis><emphasis>Definition:</emphasis>
string (pattern ((last)|(last-\d+)|(\d+))(\s+-\s+((last)|(last-\d+)|(\d+)))?(\s*,\s+((last)|(last-\d+)|(\d+))(\s+-\s+((last)|(last-\d+)|(\d+)))?)*)</synopsis><para>Used by: <code><link linkend="element-anchor-div-ref">&lt;anchor-div-ref&gt;</link></code> <code><link linkend="element-div-ref">&lt;div-ref&gt;</link></code> </para></section><section xml:id="attribute-strength"><title><code>@strength</code></title><para>The attribute <code>strength</code> tempers the strength of an alignment. Suitable for alignments you would wish to differentiate, such as verbatim parallels from indirect references. This attribute does not imply doubt, uncertainty, or the reason for strengthening or weakening the alignment. If you need to specify exactly what concept of text reuse attaches to an alignment, you should use TAN-A-tok and <code><link linkend="element-tok">&lt;tok&gt;</link></code> with <code><link linkend="attribute-reuse-type">@reuse-type</link></code> and <code><link linkend="attribute-cert">@cert</link></code>.</para><para>This attribute takes an arbitrary rational decimal number from 0 to 1 indicating how strong the alignment should be. No specific meaning is to be assigned to this attribute. Interpretation of these values is processor-dependent.  </para><para>This attribute is inheritable. See <xref linkend="inheritable_attributes"/></para><synopsis><emphasis>Definition:</emphasis>
string (pattern 0\.\d+)</synopsis><para>Used by: <code><link linkend="element-align">&lt;align&gt;</link></code> </para></section></section>